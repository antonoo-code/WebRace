<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>WebRace</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"/>
    <link href="/static/style.css" rel="stylesheet" />
    <script src="/static/script.js" defer></script>
      <style>
          #map {
              height: 500px;
          }
      </style>
  </head>
  <body>
    <h1>WebRace</h1>
    <div id="map"></div>
    <div id="start">
      <form id="startgame" action="/game" method="POST">
        <input
          id="namebox"
          type="text"
          name="name"
          placeholder="Enter your name"
        />
        <button type="submit">Start game</button>
      </form>
    </div>
    <div id="flight_options">
      <a id="range"></a>
      <ul></ul>
    </div>
  <div class="container">
        <h1>Möttösen lentopeli</h1>
    </div>
    </header>
    <nav>
        <ul>
            <li><a href="#">Ohjeet</a></li>
            <li><a href="#">Lentokoneen range</a></li>
        </ul>
    </nav>
    <main>
        <section>
            <ul>
                <li><b>Maali</b></li>
                <li><b>Matka maaliin</b></li>
            </ul>
                    <div class="chat-container">
                       <div id="map"></div>
                           <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" defer></script>

                       <script>
                            document.addEventListener("DOMContentLoaded", function () {
                            const map = L.map("map", {tap: false});
                            L.tileLayer("https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}", {
                            maxZoom: 20,
                            subdomains: ["mt0", "mt1", "mt2", "mt3"],
                            }).addTo(map);
                            map.setView([60, 24], 7);});
                        </script> 
                        <div id="flight_options"></div>
                        <script>
                            display_flightoptions(data);
                            const ul = flightOptions.querySelector("ul");
                            ul.addEventListener("click", async (e) => {
                            if (e.target.tagName === "LI") {
                            icao = e.target.textContent.split(",")[0];
                            ul.innerHTML = "";
                            const response = await fetch(`/game?action=fly&id=${id}&icao=${icao}`, {
                            method: "PUT",
                            });
                                data = await response.json();
                                display_flightoptions(data);
                                }
                            });
                        </script>
                    </div>
        </section>
    </main>
    <footer class="Bottom">
        <div class="buttons">
            <button>Lataa</button>
            <button>Heitä</button>
            <button>Sijainti</button>
</div>
        <div class="logit">
            CHATLOGIT
        </div>
    </footer>

</body>
</html>

